var pyproxy_debug_mode=false;(function(a){debug=function(b){if(pyproxy_debug_mode){console.log(b)}};a.pyproxy_form_to_dict=function(b){inputs=a(b+" :input");dict={};for(i=0;i<inputs.length;i++){input=inputs[i];add=false;name=String(input.name);if(input.type=="radio"){if(input.checked){add=true}}else{if(input.type=="checkbox"){if(input.checked){if(!(name in dict)){dict[name]=[]}dict[name][dict[name].length]=a(input).val()}}else{add=true}}if(add){dict[name]=a(input).val()}}return dict};a.pyproxy_process_data=function(b,c){debug("Processing data ...");for(i=0;i<b.length;i++){command=b[i];selector=a(command.selector);meth=a(command.selector)[command.call];meth.apply(selector,command.args)}if(typeof(c)=="function"){c(b)}};a.pyproxy_call=function(c,d,e){var b="";if(typeof(d)=="undefined"){d={}}else{if(typeof(d)=="string"){b=d;d=a.pyproxy_form_to_dict(b)}}return a.ajax({type:"POST",url:c,data:d,success:function(f){a.pyproxy_process_data(f,e)},dataType:"json"})};a.fn.pyproxy=function(c,b,d,e){make_call=function(f){f.preventDefault();a.pyproxy_call(b,d,e)};debug("Binded event '"+c+"' on '"+this.selector+"' to call '"+b+"'");return this.live(c,make_call)}})(jQuery);